---
layout: '../../layouts/MarkdownPost.astro'
title: '[ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»] è¶…è¯¦è§£å‡½æ•°æ ˆå¸§'
pubDate: 2022-03-31
description: 'ç¨‹åºè¿è¡ŒèƒŒåçš„æœºåˆ¶å’Œç”±æ¥ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ç¨‹åºå‘˜çš„ä¸€ç§â€œè‡ªæˆ‘ä¿®å…»â€ã€‚------ ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…» â€œé“¾æ¥ã€è£…è½½ä¸åº“â€'
author: 'ä¸ƒæœˆ.cc'
cover:
    url: 'https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/cover.jpg'
    square: 'https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/cover.jpg'
    alt: 'cover'
tags: ["C", "å‡½æ•°", "åŸç†", "ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»"]
theme: 'light'
featured: false
---

![|cover](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/cover.jpg)

---

åœ¨é˜…è¯»è¿™ç¯‡æ–‡ç« ä¹‹å‰ï¼Œè¯·æ€è€ƒä¸€ä¸‹å¯¹äºä¸‹é¢çš„è¿™äº›é—®é¢˜ï¼Œä½ æœ‰ä¸€ä¸ªå‡†ç¡®æ¸…æ™°çš„è®¤çŸ¥å—ï¼Ÿ

1. ä»€ä¹ˆæ˜¯å‡½æ•°æ ˆå¸§ï¼Ÿ
2. ç¨‹åºä¸­çš„å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Ÿ
3. ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡ä¸åˆå§‹åŒ–ä¼šæ˜¯éšæœºå€¼ï¼Ÿ
4. å‡½æ•°ä¼ å‚ï¼Œç©¶ç«Ÿæ˜¯å¦‚ä½•ä¼ å‚çš„ï¼Ÿ
5. å‡½æ•°çš„å½¢å‚å’Œå®å‚å­˜åœ¨ä»€ä¹ˆå…³ç³»ï¼Ÿ
6. å‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ï¼Ÿ
7. å‡½æ•°è¢«è°ƒç”¨ä¹‹åæ˜¯å¦‚ä½•è¿”å›çš„ï¼Ÿ

å¦‚æœæ²¡æœ‰ï¼Œè¯·å°è¯•é˜…è¯»ã€åˆ†æã€ç†è§£æœ¬ç¯‡æ–‡ç« ã€‚
è¯»æ‡‚æœ¬ç¯‡æ–‡ç« å°†ä¼šæå‡ä½ çš„â€œè‡ªæˆ‘ä¿®å…»â€ã€‚

> `ç¨‹åºè¿è¡ŒèƒŒåçš„æœºåˆ¶å’Œç”±æ¥ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ç¨‹åºå‘˜çš„ä¸€ç§â€œè‡ªæˆ‘ä¿®å…»â€ã€‚`
> **------ ç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…» â€œé“¾æ¥ã€è£…è½½ä¸åº“â€**
---

# æ ˆä¸æ ˆå¸§

## ä»€ä¹ˆæ˜¯æ ˆï¼Ÿ

åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæ ˆæ˜¯ä¸€ä¸ªåŠ¨æ€å†…å­˜åŒºåŸŸã€‚

å‡½æ•°çš„ä¸­çš„å±€éƒ¨å˜é‡ï¼Œéƒ½å­˜æ”¾åœ¨å†…å­˜çš„æ ˆåŒºä¸­ã€‚

æ ˆåŒºçš„ä½¿ç”¨ï¼Œå’Œæ•°æ®ç»“æ„ä¸­çš„æ ˆä½¿ç”¨è§„åˆ™ç›¸ä¼¼ï¼š

å‹æ ˆã€å‡ºæ ˆã€å…ˆè¿›åå‡ºã€‚

æ ˆåŒºæ€»æ˜¯å…ˆä½¿ç”¨é«˜åœ°å€ï¼Œå†ä½¿ç”¨ä½åœ°å€ï¼Œå³æ ˆåŒºçš„ä½¿ç”¨æ˜¯ `ä»é«˜åœ°å€å‘ä½åœ°å€å»¶ä¼¸` çš„ã€‚

## ä»€ä¹ˆæ˜¯æ ˆå¸§ï¼Ÿ
ä»é€»è¾‘ä¸Šè®²ï¼Œæ ˆå¸§å°±æ˜¯ä¸€ä¸ªå‡½æ•°æ‰§è¡Œçš„ç¯å¢ƒã€‚

æ ˆä¼šä¿å­˜ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ‰€éœ€è¦çš„ç»´æŠ¤ä¿¡æ¯ï¼Œä¿å­˜è¿™äº›ä¿¡æ¯æ‰€ç”¨çš„ä¿¡æ¯ç©ºé—´ï¼Œå¸¸è¢«ç§°ä¸º `å‡½æ•°æ ˆå¸§`ã€‚

æ¯ä¸€ä¸ªå‡½æ•°çš„è°ƒç”¨ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„æ ˆå¸§ã€‚

ç»´æŠ¤å‡½æ•°æ ˆå¸§ï¼Œéœ€è¦ç”¨ `ä¸¤ä¸ªå¯„å­˜å™¨` æ¥è®°å½•å‡½æ•°æ ˆå¸§çš„å¤§å°ï¼Œä¹Ÿå¯ä»¥å« åˆ’å®šå‡½æ•°æ´»åŠ¨è®°å½•çš„èŒƒå›´ ï¼Œè¿™ä¸¤ä¸ªå¯„å­˜å™¨å­˜æ”¾çš„æ˜¯åœ°å€ï¼Œä¸¤ä¸ªåœ°å€ä¹‹é—´ï¼Œå°±æ˜¯å‡½æ•°çš„æ ˆå¸§å¤§å°ï¼š
1. å¯„å­˜å™¨ `ebp`ï¼šæ ˆåº•æŒ‡é’ˆ

  æŒ‡å‘ç»´æŠ¤æ ˆå¸§çš„é«˜åœ°å€.

2. å¯„å­˜å™¨ `esp`ï¼šæ ˆé¡¶æŒ‡é’ˆ

  æŒ‡å‘ç»´æŠ¤çš„æ ˆå¸§çš„ä½åœ°å€ï¼Œä¼šéšæ¯æ¬¡å‹æ ˆè‡ªåŠ¨å‘ä½åœ°å€å»¶ä¼¸.

# æ ˆå¸§æ˜¯å¦‚ä½•åˆ›å»ºçš„?
> 	ä»¥ä¸‹å‡åœ¨Windowså¹³å°ï¼ŒVS2013ç¼–è¯‘ç¯å¢ƒä¸‹æ¼”ç¤º
>									
> 	ä¸åŒå¹³å°ï¼Œä¸åŒç¼–è¯‘ç¯å¢ƒä¸‹çš„æ ˆå¸§æ“ä½œå¯èƒ½ä¼šæœ‰å·®å¼‚ï¼Œä½†æ˜¯é€»è¾‘ç›¸é€šã€‚

åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„å¯ä»¥è§‚å¯Ÿå‡½æ•°æ ˆå¸§çš„ç¨‹åº

ï¼ˆæ­¥éª¤åˆ’åˆ†è¶Šç»†ï¼Œå‡½æ•°æ ˆå¸§è§‚å¯Ÿè¶Šå®¹æ˜“ï¼‰ï¼š

```c
#include <stdio.h>

int Add(int x, int y)
{
	int z = 0;
	z = x + y;

	return z;
}

int main()
{
	int a = 10;
	int b = 20;
	int c = 0;
	c = Add(a , b);

	return 0;
}
```
åœ¨å¯¹ä»£ç è¿›è¡Œè°ƒè¯•çš„æ—¶å€™ï¼Œå¯¹å‡½æ•°æ ˆå¸§è°ƒç”¨è¿›è¡ŒæŸ¥çœ‹ï¼Œæ­¤æ—¶è°ƒç”¨ mian å‡½æ•°æ ˆå¸§:

![SF_Main](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_Main.png)

å°†å…‰æ ‡ç»§ç»­å‘åèµ°ï¼Œèµ°åˆ° `21è¡Œ` ä¹‹åè·³åˆ°å¦å¤–ä¸€ä¸ªç•Œé¢ï¼š

![mainå‡½æ•°è¢«è°ƒç”¨](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_main__CRTStartup_mainCRTStartup.png)
å‘ç°ï¼Œ`main` å‡½æ•°å¹¶ä¸æ˜¯ç›´æ¥è¢«è®¡ç®—æœºè°ƒç”¨çš„ï¼Œè€Œæ˜¯ç”±å¦å¤–ä¸€ä¸ªå‡½æ•°æ‰€è°ƒç”¨

å‘ä¸Šç¿»é˜…ä»£ç ï¼Œèƒ½çœ‹åˆ° main å‡½æ•°å…¶å®æ˜¯åœ¨ `__mainCRTStartup` å‡½æ•°ä¸­è¢«è°ƒç”¨

è€Œ `__mainCRTStartup` å‡½æ•°ï¼Œåˆåœ¨ `mainCRTStartup` å‡½æ•°ä¸­è¢«è°ƒç”¨

![__mainCRTStartupè¢«è°ƒç”¨](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_mainCRTStartup_return.png)

æ‰€ä»¥ åœ¨è°ƒç”¨ `main` å‡½æ•°ä¹‹å‰ï¼Œå…¶å®å·²ç»è°ƒç”¨äº†ä¸¤ä¸ªå‡½æ•°ï¼Œä¹Ÿå·²ç»åˆ›å»ºäº†ä¸¤ä¸ªå‡½æ•°çš„æ ˆå¸§ã€‚ä½†æ˜¯è¿™ä¸¤ä¸ªå‡½æ•°çš„æ ˆå¸§åˆ›å»ºçš„è¿‡ç¨‹å¹¶ä¸å®¹æ˜“è¢«çœ‹åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è§‚å¯Ÿ main å‡½æ•°çš„æ ˆå¸§çš„åˆ›å»ºæ¥è¯¦ç»†äº†è§£æ ˆå¸§çš„åˆ›å»ºã€‚

é‡æ–°å›åˆ°ï¼Œå…‰æ ‡åˆšæŒ‡å‘ `main` å‡½æ•°çš„æ—¶å€™ï¼Œ`è½¬åˆ°åæ±‡ç¼–`ï¼š

![åæ±‡ç¼– |inline](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_Main_Stack_Frames.png)
å³è¾¹ `åæ±‡ç¼–çª—å£çš„ä»£ç ` ï¼Œå…¶å®å°±æ˜¯ `main` å‡½æ•°ä¸­ï¼Œ`ä»å‡½æ•°æ ˆå¸§åˆ›å»ºï¼Œåˆ° main å‡½æ•°ç»“æŸ` çš„æ•´ä¸ªæ“ä½œåŠé¡ºåºã€‚

ä»¥åŠ¨ç”»å½¢å¼æ¼”ç¤ºï¼š
 1. `main` å‡½æ•°è°ƒç”¨ä¹‹å‰ï¼Œ`mainCRTStartup` å’Œ `__mainCRTStartup` å‡½æ•°çš„æ ˆå¸§åˆ›å»º(æ— è¯¦ç»†å†…å®¹)ï¼š

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/SF_MAINSRTSTARTUP_PUSH.gif" alt="ç®€å•main å‡½æ•°æ ˆå¸§åˆ›å»º |inline" style="zoom:60%; display: block; margin: 0 auto;" />

 2. è¿›å…¥ `main` å‡½æ•°ï¼š

    > 1. `(push ebp)` å‹æ ˆï¼Œå‹å…¥å†…å®¹æ˜¯ `ebp` æŒ‡å‘çš„åœ°å€`(ä¸ºä¿å­˜å½“å‰ ebp å†…å®¹)``
    >     `psï¼šå‹æ ˆä¹‹åï¼Œesp(æ ˆé¡¶æŒ‡é’ˆ)è‡ªåŠ¨æŒ‡å‘æ ˆé¡¶`
    > 2. `(mov  ebp,esp)` å°† `ebp` æŒ‡å‘ `esp` çš„åœ°å€( å°† `esp` èµ‹äºˆ `ebp`)

    æ­¤æ—¶ï¼Œ`ebp` å’Œ `esp` çš„å®é™…å˜åŒ–ä¸ºï¼š

    > æœªæ‰§è¡Œ :
    >
    > ![|wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/push_esp_ebp_change.png)
    >
    > æ‰§è¡Œ `push ebp` :
    >
    > ![|wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/pushA_esp_ebp_change.png)
    >
    > æ‰§è¡Œ `mov ebp,esp` :
    >
    > ![|wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/mov_esp_ebp_change.png)

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/push_epb.gif" alt="å‹æ ˆebpï¼Œè°ƒæ•´ |inline" style="zoom:60%; display: block; margin: 0 auto;" />

3. æ­¤æ—¶ï¼Œåæ±‡ç¼–ä¸­çš„è¯­å¥å…‰æ ‡æŒ‡å‘äº† 

    `sub esp,0E4h`

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/sub_esp.png" alt="next_esp_sub " style="zoom:90%; display: block; margin: 0 auto;" />

    å³ä¸‹ä¸€å¥æ‰§è¡ŒæŒ‡ä»¤çš„å°±æ˜¯ `sub esp,0E4h`

    > æ±‡ç¼–è¯­è¨€ï¼š`sub ç›¸å‡`
    >
    > `sub esp,0E4h` æŒ‡ `esp = esp - 0E4h`
    >
    > `0E4h` æ˜¯åå…­è¿›åˆ¶æ•°ï¼Œè½¬æ¢æˆåè¿›åˆ¶ä¸º 228ï¼š
    >
    > <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/0E4h.png" alt="0E4h |inline" style="zoom:90%; display: block; margin: 0 auto;" />

    æ‰§è¡Œ`sub esp,0E4h` çš„å˜åŒ–ï¼š

    > æœªæ‰§è¡Œï¼š
    >
    > ![|wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/No_sub.png)
    >
    > æ‰§è¡Œ `sub esp,0E4h`ï¼š
    >
    > ![|wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/sub_esp_change.png)

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/sub_esp_0E4h.gif" alt="sub esp,0E4h |inline" style="zoom:60%; display: block; margin: 0 auto;" />

    æ‰§è¡Œä¹‹åï¼Œ`esp` å’Œ `ebp` ä¹‹é—´ä¼š å­˜åœ¨ä¸€å—ç”±å…¶æ–°ç»´æŠ¤çš„ç©ºé—´

    è€Œè¿™æ®µç©ºé—´å…¶å®å°±æ˜¯ä¸º `main` å‡½æ•°é¢„å¼€è¾Ÿçš„ç©ºé—´

    æŸ¥çœ‹åœ°å€ï¼š

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/For_main_space.png" alt="For_main_space" style="zoom: 80%; display: block; margin: 0 auto;" />

    å³ï¼šä» `0x00AFF8A4` åˆ° `0x00AFF988` å°±æ˜¯ä¸º `main` å‡½æ•°ä¸å¼€è¾Ÿçš„ç©ºé—´

    ä¹Ÿè¢«æˆä¸º `main` å‡½æ•°çš„æ ˆå¸§ã€‚

    ä½†æ˜¯ï¼Œè¿™é‡Œå¹¶ä¸æ˜¯å‡½æ•°æ ˆå¸§åˆ›å»ºçš„ç»“æŸã€‚

4. ç»§ç»­æ‰§è¡Œæ±‡ç¼–æŒ‡ä»¤ï¼Œå…‰æ ‡ç»§ç»­ç§»åŠ¨ï¼š

    ![Push_ebx_esi_edi |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Push_ebx_esi_edi.png)

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Save_ebx_esi_edi.gif" alt="Save_ebx_esi_edi |inline" style="zoom:60%; display: block; margin: 0 auto;" />

    ä¿å­˜äº†å¯„å­˜å™¨`ebx` `esi` `edi`

5. æŒ‡ä»¤ç»§ç»­æ‰§è¡Œï¼š

    > 1. æ‰§è¡Œ `lea edi,[ebp-0E4h]` ï¼š
    >
    >   ![lea_edi |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/lea_edi.png)
    >
    >   è¿™é‡Œçš„ `ebp-0E4h` åœ°å€ï¼Œç»è¿‡å¯¹æ¯”ï¼Œå°±æ˜¯ é¢„å¼€è¾Ÿçš„ `main` å‡½æ•°æ ˆå¸§çš„æ ˆé¡¶åœ°å€`(0x00AFF8A4)`
    >
    > > æ±‡ç¼–æŒ‡ä»¤ ï¼š`lea(Load effect address)`   åŠ è½½æœ‰æ•ˆåœ°å€
    > > `lea edi,[ebp-0E4h]`  å³ä¸ºï¼šåŠ è½½æœ‰æ•ˆåœ°å€ `ebp-0E4h` è‡³å¯„å­˜å™¨`edi`
    >
    > 2. æ‰§è¡Œ `mov ecx,39h` å’Œ `mov eax,0CCCCCCCCh`
    >
    >   ![No_mov_ecx_eax |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/No_mov_ecx_eax.png)
    >
    >   ğŸ‘‡ğŸ‘‡ğŸ‘‡
    >
    >   ![mov_ecx_eax |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/mov_ecx_eax.png)
    >
    >   å¯„å­˜å™¨ `ecx` å­˜å…¥ `åå…­è¿›åˆ¶ 39(åè¿›åˆ¶ 57)`
    >   å¯„å­˜å™¨ `eax` å­˜å…¥`0xCCCCCCCC`
    >
    > 3. æ‰§è¡Œ `rep_stos  dword_ptr_es:[edi]`ï¼š
    >
    > <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/rep_stos_change.png" alt="rep_stos |inline" style="zoom:80%; display: block; margin: 0 auto;" />
    >
    > æ‰§è¡Œä¹‹åï¼Œä» `0x00AFF988 - 4` åˆ° `0x00AFF8A4` çš„`(æ¯4å­—èŠ‚)`æ‰€æœ‰å†…å®¹éƒ½è¢«è®¾ç½®ä¸ºäº† `0xCCCCCCCC` ï¼Œå³ å¼€è¾Ÿçš„`main` æ ˆå¸§ä¸­çš„æ‰€æœ‰å†…å®¹è¢«è®¾ç½®ä¸º `0xCCCCCCCC` 
    >
    > > æ±‡ç¼–æŒ‡ä»¤ï¼š
    > >
    > > ```
    > > lea         edi,[ebp-0E4h]  
    > > mov         ecx,39h  
    > > mov         eax,0CCCCCCCCh  
    > > rep stos    dword ptr es:[edi]
    > > ```
    > >
    > > è¿™ä¸€æ®µæ±‡ç¼–æŒ‡ä»¤ä¸­æœ€åä¸€å¥
    > > `rep_stos    dword_ptr_es:[edi]`
    > > `rep` ï¼š é‡å¤ä¸Šé¢æŒ‡ä»¤ï¼Œ å³ 
    > >
    > > ```
    > > lea         edi,[ebp-0E4h]  
    > > mov         ecx,39h  
    > > mov         eax,0CCCCCCCCh
    > > ```
    > >
    > > å¯„å­˜å™¨ `ecx` ä¸­çš„å€¼ï¼Œå³ä¸ºé‡å¤çš„æ¬¡æ•°
    > > `stos` ï¼šå°† `eax` ä¸­çš„å€¼æ‹·è´åˆ° `edi` æŒ‡å‘çš„åœ°å€
    >
    > >> æŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œé»˜è®¤ `edi` ä¸­çš„åœ°å€ï¼Œæ˜¯å¢å¤§çš„(å‘é«˜åœ°å€å¢é•¿)ã€‚æ‰€ä»¥ï¼Œä¼šä»`edi [ebp-0E4h(0x00AFF8A4)]` æ¯4å­—èŠ‚çš„å¢é•¿ï¼Œå¢é•¿åˆ° `0x00AFF988` å…± 57æ¬¡(å¯„å­˜å™¨ `ecx` ä¸­å­˜å…¥çš„æ•°æ®)
    >
    > `main` å‡½æ•°æ ˆå¸§ä¸­æ‰€æœ‰å†…å®¹è¢« è®¾ç½®ä¸ºäº† `0xCCCCCCCC` 
    > é‚£ä¹ˆ åœ¨ `main` å‡½æ•°ä¸­ å®šä¹‰å±€éƒ¨å˜é‡ è€Œä¸åˆå§‹åŒ–
    > å±€éƒ¨å˜é‡å°±ä¼šè¡¨ç¤ºéšæœºå€¼ã€‚
    > æ‰€ä»¥ è¾“å‡ºä¸€ä¸ªæœªåˆå§‹åŒ–çš„å±€éƒ¨å˜é‡ï¼Œå¾ˆå¯èƒ½ä¼šå‡ºç°ï¼š
    >
    > ![|wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/0xCCCCCCCC.png)

åˆ°æ­¤ï¼Œ`main` å‡½æ•°æ ˆå¸§çš„é¢„åˆ›å»ºå…¨éƒ¨å®Œæˆï¼ˆåªæ˜¯é¢„åˆ›å»ºï¼‰ã€‚
æ¥ä¸‹æ¥å°±æ˜¯ï¼Œå±€éƒ¨å˜é‡çš„åˆ›å»ºã€è°ƒç”¨å‡½æ•°æ ˆå¸§çš„åˆ›å»ºã€å‡½æ•°ä¼ å‚ã€å‡½æ•°è¿”å›ç­‰ã€‚


# å±€éƒ¨å˜é‡æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Ÿè°ƒç”¨å‡½æ•°ç©¶ç«Ÿæ˜¯å¦‚ä½•ä¼ å‚çš„ï¼Ÿ
ä»¥ä¸Šï¼Œè¯¦ç»†åˆ†æäº† `main` å‡½æ•°æ ˆå¸§åœ¨å†…å­˜ä¸­åˆ›å»ºçš„è¿‡ç¨‹ã€‚
åˆ›å»ºå®Œæˆä¹‹åï¼Œå°±ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œ `main` å‡½æ•°ä¸­çš„å‡½æ•° æˆ– è¯­å¥ã€‚


æ¥ä¸‹æ¥ï¼Œå°±æ˜¯å±€éƒ¨å˜é‡åœ¨æ ˆå¸§ä¸­çš„åˆ›å»º å’Œ å‡½æ•°è¢«è°ƒç”¨æ—¶ä¼ å‚çš„å®ç°ï¼š

## å±€éƒ¨å˜é‡åœ¨æ ˆå¸§ä¸­çš„åˆ›å»º
å…ˆåœ¨åæ±‡ç¼–çª—å£ä¸­ï¼Œå³é”®é€‰æ‹©æ˜¾ç¤ºç¬¦å·åï¼Œå¯ä»¥çœ‹åˆ°ï¼š

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Show_char_name.png" alt="å­—ç¬¦å |inline" style="zoom:80%; display: block; margin: 0 auto;" />

å…³é—­å­—ç¬¦ååˆ™ä¼šæ˜¾ç¤ºåœ°å€ï¼š

![Local_variables_creat_front |inline](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Local_variables_creat_front.png)

> `dword ptr` è¡¨ç¤ºåœ°å€å†…å®¹ä¸ºåŒå­—`(4å­—èŠ‚)`æ•°æ®

è§‚å¯Ÿæ±‡ç¼–ä»£ç ï¼Œå¯¹ å±€éƒ¨å˜é‡ `a`ã€ `b`ã€ `c` çš„åˆ›å»ºåŠåˆå§‹åŒ–æ˜¯ä» åœ°å€`ebp-8` å¼€å§‹çš„ã€‚
ä»£ç å‘ä¸‹æ‰§è¡Œï¼š

![Local_variables_creat |inline](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Local_variables_creat.png)

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Local_variables_creat.gif" alt="Local_variables_creat |inline" style="zoom:60%; display: block; margin: 0 auto;" />

å±€éƒ¨å˜é‡çš„åˆ›å»ºç›¸å¯¹ç®€å•ï¼Œä¸€å¼ åŠ¨å›¾å°±å¯ä»¥ç†è§£ã€‚

## å‡½æ•°è¢«è°ƒç”¨æ—¶çš„ä¼ å‚ åŠ è¢«è°ƒç”¨å‡½æ•°æ ˆå¸§çš„åˆ›å»º
è°ƒç”¨éœ€è¦ä½¿ç”¨å‚æ•°çš„å‡½æ•°æ—¶ï¼Œéœ€è¦ä¼ å…¥å­˜åœ¨çš„å±€éƒ¨å˜é‡ï¼Œä½œä¸ºå‡½æ•°çš„å‚æ•°ã€‚
ä½†æ˜¯ï¼Œè¢«ä¼ å…¥å‡½æ•°çš„å‚æ•°ï¼Œåœ¨å‡½æ•°ä¸­éƒ½è¢«ç§°ä¸º `å½¢å‚`ï¼Œåœ¨è¢«è°ƒç”¨å‡½æ•°ä¸­ ç›´æ¥æ”¹å˜ å¹¶ä¸èƒ½çœŸæ­£æ”¹å˜åŸæ¥çš„å˜é‡ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ

çœŸæ­£çš„åŸå› ï¼Œå°±åœ¨è¿™é‡Œï¼š

---

![|inline](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_No.png)

å…ˆåˆ†ææ±‡ç¼–ä»£ç ï¼š

> ```
> mov        eax,dword ptr [ebp-14h]
> push       eax
> mov        ecx,dword ptr [ebp-8]
> push       ecx
> ```
> å°† `ebp-14h` åœ°å€å¤„çš„åŒå­—çš„å€¼ï¼ˆå³å˜é‡ b çš„å€¼ï¼‰å­˜å…¥ å¯„å­˜å™¨ `eax`ï¼Œå‹æ ˆå­˜å…¥ `eax` ï¼Œå‹å…¥ä½ç½®æ˜¯ï¼š`0x00AFF894`
> å°† `ebp-8` åœ°å€å¤„çš„åŒå­—çš„å€¼ï¼ˆå³å˜é‡ a çš„å€¼ï¼‰å­˜å…¥ å¯„å­˜å™¨ `ecx`ï¼Œå‹æ ˆå­˜å…¥ `ecx`ï¼Œå‹å…¥ä½ç½®æ˜¯ï¼š`0x00AFF890`

æ‰§è¡Œä¹‹åå†…å­˜ä¸­çš„å˜åŒ–ï¼š

![å½¢å‚çš„ä¼ å‚ |inline](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/eax_ecx_a_b_push.png)

`è¿™ä¸¤ä¸ªæ­¥éª¤ï¼Œå…¶å®å°±æ˜¯å½¢å‚çš„åˆ›å»ºï¼Œæˆ–è€…è¯´è°ƒç”¨å‡½æ•°æ—¶çš„ä¼ å‚æ“ä½œ`
`(è¢«è°ƒç”¨å‡½æ•°ç©¶ç«Ÿæ˜¯å¦‚ä½•ä½¿ç”¨å½¢å‚çš„å†…å®¹åœ¨ä¸‹è¾¹)`
ä¹Ÿå°±æ˜¯è¯´ï¼Œå½¢å‚çš„åˆ›å»ºå…¶å®æ˜¯åœ¨ `main` å‡½æ•°çš„æ ˆå¸§ä¸­åˆ›å»ºçš„ã€‚

æ±‡ç¼–æŒ‡ä»¤ç»§ç»­å‘ä¸‹æ‰§è¡Œï¼ˆæ³¨æ„ï¼šæ‰§è¡Œ `call` æŒ‡ä»¤æ—¶ï¼Œ`(VSç¯å¢ƒ)`æŒ‰`F11` è¿›å…¥å‡½æ•°å†…éƒ¨ ï¼‰ï¼š
> `call` æŒ‡ä»¤ï¼Œåœ¨è¿™é‡Œçš„ä½œç”¨æ˜¯ï¼š
> 1. å°† `call` æŒ‡ä»¤çš„ä¸€ä¸‹æ¡æŒ‡ä»¤çš„åœ°å€`(00911F00)`å‹å…¥æ ˆä¸­
> 2. ç„¶åè·³è½¬è‡³ åè¾¹çš„åœ°å€`(009111E0)`çš„ä»£ç å¤„

![Call æŒ‡ä»¤æ‰§è¡Œ |inline](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/call.png)

åˆ°æ­¤æ—¶å†…å­˜å˜åŒ–ï¼š

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Creat_Virtual_parameters.gif" alt="Virtual_variables_creat |inline" style="zoom:60%; display: block; margin: 0 auto;" />

> `jmp` æŒ‡ä»¤ï¼šæ— æ¡ä»¶è·³è½¬è‡³ åè¾¹çš„åœ°å€å¤„
> å³åœ¨æ­¤æŒ‡ä»¤ä¸­ï¼Œè·³è½¬è‡³`00911A40` å¤„

æ‰§è¡Œ `jmp` ï¼š

![jmp Add |inline](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/jmp_add.png)

æ‰§è¡Œ `jmp` ä¹‹åï¼Œè¿›å…¥ `Add å‡½æ•°`ï¼Œä¼šå‘ç°ä¸€æ®µç†Ÿæ‚‰çš„æŒ‡ä»¤ï¼Œå’Œè¿›å…¥ `main` å‡½æ•°æ—¶çš„å‰å‡ è¡ŒæŒ‡ä»¤ç›¸ä¼¼ã€‚
è¿™æ®µæŒ‡ä»¤å°±æ˜¯ `Add` å‡½æ•°é¢„å¼€è¾Ÿæ ˆå¸§çš„æŒ‡ä»¤ï¼ˆä¸å†åˆ†æï¼‰ï¼Œç›´æ¥çœ‹å›¾ï¼š
1. å…ˆå‹æ ˆï¼Œå‹å…¥çš„æ˜¯ ç»´æŠ¤ `main` å‡½æ•°æ ˆå¸§æ—¶çš„`ebp`  ï¼š

    ![Addå‡½æ•°å‹å…¥ç»´æŠ¤mainçš„ebp |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_ebp_Push.png)

2. è¿ç»­æ‰§è¡ŒæŒ‡ä»¤ï¼Œé¢„åˆ›å»ºåŠå¤„ç† `Add` å‡½æ•°æ ˆå¸§ï¼š

    ![Add_å‡½æ•°æ ˆå¸§åˆ›å»º |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_SF_Creat.png)

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_SF_Creat.gif" alt="Add_SF_Creat |inline" style="zoom:60%; display: block; margin: 0 auto;" />

ä»¥ä¸Šæ˜¯ `Add` å‡½æ•°æ ˆå¸§çš„åˆ›å»ºè¿‡ç¨‹ã€‚


## è¢«è°ƒç”¨å‡½æ•°å½¢å‚çš„ä½¿ç”¨

è‡ªå®šä¹‰çš„ `Add` å‡½æ•°ï¼Œç›®çš„æ˜¯æ±‚ä¸¤ä¸ª`int` ç±»å‹æ•´æ•°çš„å’Œï¼Œè¿”å›å€¼ä¹Ÿæ˜¯ `int` ç±»å‹ã€‚

è§‚å¯Ÿã€å¯¹æ¯”æ±‡ç¼–ä»£ç ï¼š

> ![|wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Use_Virtual_variables.png)
>
> 1. `z` ï¼Œæ˜¯åœ¨ `Add` å‡½æ•°æ ˆå¸§å†…åˆ›å»ºçš„å±€éƒ¨å˜é‡ï¼Œå¯¹åº”çš„åœ°å€æ˜¯ `ebp-8`ï¼Œå³ä» `ebp(æ­¤æ—¶ç»´æŠ¤Addæ ˆå¸§çš„æ ˆåº•æŒ‡é’ˆ)` å‘ä½åœ°å€åç§» `8 å­—èŠ‚`ï¼Œå‘ç°åœ¨ `Add` æ ˆå¸§å†…éƒ¨ã€‚
>
>     ![ |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_Creat_VR.png)
>
> 2. `x`ã€`y` åˆ†åˆ«å¯¹åº” ï¼š`ebp+8` ã€`ebp+0Ch`
>     å³ä» `ebp` å‘é«˜åœ°å€åç§» `8 å­—èŠ‚` å’Œ `12 å­—èŠ‚`ï¼Œå¾ˆæ˜æ˜¾ä¸åœ¨ `Add` å‡½æ•°æ ˆå¸§å†…ï¼Œç©¶ç«Ÿåœ¨å“ªï¼Ÿ
>     
>     ![ |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_VR_address.png)
>     
>     åˆ†æä¹‹åå‘ç°ï¼Œ`Add` å‡½æ•°è°ƒç”¨çš„å½¢å‚ å…¶å®å°±æ˜¯ä¹‹å‰(å³å°†è¿›å…¥`Add`å‡½æ•°æ—¶)ï¼Œæ‰§è¡Œè¿™ä¸€æ®µä»£ç æ—¶å‹æ ˆçš„å†…å®¹ï¼š
>     
>     > ```
>     > mov        eax,dword ptr [ebp-14h]
>     > push       eax
>     > mov        ecx,dword ptr [ebp-8]
>     > push       ecx
>     > ```
>     >
>     > å°† `ebp-14h` åœ°å€å¤„çš„åŒå­—çš„å€¼ï¼ˆå³å˜é‡ `b` çš„å€¼ï¼‰å­˜å…¥ å¯„å­˜å™¨ `eax`ï¼Œå‹æ ˆå­˜å…¥ `eax`ï¼Œå‹å…¥ä½ç½®æ˜¯ï¼š`0x00AFF894`
>     > å°† `ebp-8` åœ°å€å¤„çš„åŒå­—çš„å€¼ï¼ˆå³å˜é‡ `a` çš„å€¼ï¼‰å­˜å…¥ å¯„å­˜å™¨ `ecx`ï¼Œå‹æ ˆå­˜å…¥ `ecx`ï¼Œå‹å…¥ä½ç½®æ˜¯ï¼š`0x00AFF890`
>
> 3. æ‰€ä»¥
>
>     `å‡½æ•°çš„å½¢å‚å…¶å®æ—©åœ¨mainå‡½æ•°æ ˆå¸§ä¸­å°±å·²ç»åˆ›å»ºå¥½å¹¶ä¸”å­˜å‚¨åœ¨ä¸€ä¸ªä½ç½®ï¼Œå¹¶ä¸æ˜¯è¿›å…¥å‡½æ•°æ‰åˆ›å»ºçš„ï¼Œå‡½æ•°è¦ä½¿ç”¨å½¢å‚ç›´æ¥åœ¨å­˜å‚¨çš„é‚£ä¸ªåœ°å€æ‹¿å°±å¯ä»¥äº†ï¼Œè¿™å°±æ˜¯ åœ¨å‡½æ•°ä¸­æ”¹å˜å½¢å‚ä¸ä¼šå½±å“åŸå˜é‡ çš„åŸå› `

è§‚å¯Ÿè¿‡åï¼Œæ‰§è¡Œç›¸åŠ çš„è¯­å¥ï¼š

![](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add.png)
ç›¸åŠ æ“ä½œå®Œæˆã€‚
ä½†æ˜¯éœ€è¦å°†ç›¸åŠ çš„ç»“æœä½œä¸ºè¿”å›å€¼è¿”å›ï¼Œå¹¶ä¸”é‡æ–°å›åˆ°`main` å‡½æ•°ä¸­ï¼Œè¿™ä¸ªå‡½æ•°æ‰ç®—æ‰§è¡Œç»“æŸã€‚

è¿”å›æ“ä½œå…·ä½“æ˜¯å¦‚ä½•è¿›è¡Œçš„å‘¢ï¼Ÿ

##  å‡½æ•°è¿”å›
å‡½æ•°è¿”å›å¹¶æ²¡æœ‰çœ‹ä¸Šå»é‚£ä¹ˆç®€å•ï¼š

<img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Return_Add.png" alt=" |inline" style="zoom:80%; display: block; margin: 0 auto;" />

`return z;` è¯­å¥ä¹‹åï¼Œå…¶å®éƒ½æ˜¯å‡½æ•°è¿”å›éœ€è¦è¿›è¡Œçš„æ“ä½œã€‚

1. é¦–å…ˆæ˜¯ï¼Œ`return z;`

    è¿”å›å€¼æ“ä½œæ˜¯ï¼Œ`mov  eax,dword ptr [ebp-8]`

    å°† `ebp-8(z)` å¤„çš„ä¸¤å­—`(4å­—èŠ‚)` çš„å€¼å­˜å…¥ å¯„å­˜å™¨ `eax`

    è¿”å› `z` çš„æ“ä½œï¼Œå…¶å®å°±æ˜¯å°† `z` çš„å€¼ï¼Œå­˜å…¥äº†å¯„å­˜å™¨ä¸­ã€‚

    å½“å‡½æ•°ä½¿ç”¨å®Œåï¼Œå±€éƒ¨å˜é‡ä¼šè¢«é”€æ¯ï¼Œä½†æ˜¯å¯„å­˜å™¨åœ¨CPUä¸­æ˜¯ä¸ä¼šè¢«é”€æ¯çš„ã€‚

    æ‰€ä»¥å°† å±€éƒ¨å˜é‡ `z` çš„å€¼ å­˜æ”¾åœ¨å¯„å­˜å™¨ä¸­ï¼Œå°±èƒ½è¾¾åˆ°è¿”å› `z` çš„å€¼ çš„æ•ˆæœ

    ![return_z  |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/return_z.png)

2. å†æŒ‰é¡ºåºå°†:

   åœ¨è¿›å…¥ `Add` å‡½æ•°å å‹æ ˆçš„ `edi`, `esi`, `ebx` ä¸‰ä¸ªå†…å®¹é€€æ ˆ

   ![pop_edi_esi_ebx |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Add_pop_edi_esi_ebx.png)

3. ç„¶åå°† `ebp` çš„å€¼ ç»™ `esp`, å½“ `esp` çš„å€¼å˜ä¸º `ebp` çš„å€¼çš„æ—¶å€™ï¼Œ`Add` å‡½æ•°æ ˆå¸§çš„ç»´æŠ¤å°±ç»“æŸäº†ã€‚`Add` å‡½æ•°æ ˆå¸§çš„ç©ºé—´å°±ä¼šè¿˜ç»™å†…å­˜

    ![mov_esp,esp |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/mov_esp%2Cesp.png)

4. å†ç„¶åå°±æ˜¯ `pop   ebp`

    `pop  ebp`  ä¸ ä¸€èˆ¬ `pop` å…¶ä»–å†…å®¹ä¸åŒï¼Œ`pop ebp` è¿˜ä¼šå°†è¿™é‡Œéœ€è¦å¼¹å‡ºçš„ `ebp` çš„å€¼ ç»™ å¯„å­˜å™¨ `ebp`

    ![pop_ebp |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/pop_ebp.png)

    æ­¤æ—¶ï¼Œ`esp` å’Œ `ebp` ä¸¤ä¸ªç»´æŠ¤æ ˆå¸§çš„å¯„å­˜å™¨ï¼Œå°±åˆå»ç»´æŠ¤ `main` å‡½æ•°æ ˆå¸§äº†ã€‚

    è¿™æ•´ä¸ªè¿‡ç¨‹çš„åŠ¨ç”»

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/Destory_Add_SF.gif" alt=" |inline" style="zoom:60%; display: block; margin: 0 auto;" />

5. æœ€åä¸€æ­¥å°±æ˜¯ `ret` æŒ‡ä»¤

    å½“ `Add` å‡½æ•°ä½¿ç”¨ç»“æŸä¹‹åï¼Œæ±‡ç¼–ä»£ç åº”è¯¥ç»§ç»­å›åˆ° `main` å‡½æ•°ä¸­çš„ `call` æŒ‡ä»¤çš„ä¸‹ä¸€æ¡è¯­å¥çš„åœ°æ–¹ï¼š

    å³è¿™é‡Œï¼š

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/return_call.png" alt="return åº”è¯¥å›åˆ°çš„ä½ç½® |inline" style="zoom:88%; display: block; margin: 0 auto;" />

    é‚£ä¹ˆæ€ä¹ˆæ‰èƒ½å›åˆ°è¿™é‡Œå‘¢ï¼Ÿ

    å›æƒ³ä¸€ä¸‹ï¼Œåœ¨ `esp` å’Œ `ebp` é‡æ–°ç»´æŠ¤`main` å‡½æ•°æ ˆå¸§çš„æ—¶å€™ï¼Œ`esp` æŒ‡å‘çš„åœ°å€ï¼Œå…¶å®å°±æ˜¯ä¹‹å‰ `call` æŒ‡ä»¤æ‰§è¡Œæ—¶ï¼Œå‹æ ˆå‹å…¥çš„`call` æŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€:

    ![retçš„åœ°å€ |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/ret_address.png)

    `ret` æŒ‡ä»¤æ‰§è¡Œä¹‹åï¼Œä¼šç›´æ¥æŠŠè¿™ä¸ªç©ºé—´å¼¹å‡ºæ ˆï¼Œç„¶åè¿”å›åˆ°è¿™ä¸ªç©ºé—´å­˜æ”¾çš„åœ°å€çš„æŒ‡ä»¤å¤„ï¼š

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/ret.gif" alt="ret |inline" style="zoom:60%; display: block; margin: 0 auto;" />

    ![è¿”å›mainå‡½æ•° |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/ret_after.png)

    è¿™äº›æ­¥éª¤æ‰§è¡Œä¹‹åï¼Œé€»è¾‘æˆåŠŸä» `Add` å‡½æ•°ä¸­è¿”å›åˆ° `main` å‡½æ•°ä¸­ã€‚

    ç»§ç»­æ‰§è¡Œä»£ç ï¼š

    `add  esp,8`:

    ![esp+8 |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/add_esp.png)

    `mov dword ptr [ebp-20h],eax`:

    ![ |wide](https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/mov_eax_to_c.png)

    <img src="https://dxyt-july-image.oss-cn-beijing.aliyuncs.com/Stack_Frames/esp%2B8_mov_c.gif" alt=" |inline" style="zoom:60%; display: block; margin: 0 auto;" />

ä»£ç èµ°åˆ°è¿™é‡Œï¼Œå‡½æ•°æ ˆå¸§çš„å¤§éƒ¨åˆ†å†…å®¹éƒ½å·²ç»è®²çš„å¾ˆæ¸…æ¥šäº†ã€‚æœ¬ç¯‡æ–‡ç« åˆ°è¿™é‡Œä¹Ÿå°±ç»“æŸäº†ã€‚

---

# ç»“æŸ
å†å›è¿‡å¤´æ¥çœ‹æ–‡ç« å¼€å¤´çš„é—®é¢˜ï¼š
1. ä»€ä¹ˆæ˜¯å‡½æ•°æ ˆå¸§ï¼Ÿ

2. ç¨‹åºä¸­çš„å±€éƒ¨å˜é‡ï¼Œæ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Ÿ
3. ä¸ºä»€ä¹ˆå±€éƒ¨å˜é‡ä¸åˆå§‹åŒ–ä¼šæ˜¯éšæœºå€¼ï¼Ÿ
4. å‡½æ•°ä¼ å‚ï¼Œç©¶ç«Ÿæ˜¯å¦‚ä½•ä¼ å‚çš„ï¼Ÿ
5. å‡½æ•°çš„å½¢å‚å’Œå®å‚å­˜åœ¨ä»€ä¹ˆå…³ç³»ï¼Ÿ
6. å‡½æ•°æ˜¯å¦‚ä½•è¢«è°ƒç”¨çš„ï¼Ÿ
7. å‡½æ•°è¢«è°ƒç”¨ä¹‹åæ˜¯å¦‚ä½•è¿”å›çš„ï¼Ÿ

å¦‚æœè¯»æ‡‚äº†æœ¬ç¯‡æ–‡ç« ï¼Œå¯¹äºè¿™äº›é—®é¢˜åº”è¯¥æ˜¯æœ‰ä¸€ä¸ªæ¸…æ™°æ˜ç¡®çš„ç†è§£çš„ã€‚
å¸Œæœ›å¯ä»¥å¸®åˆ°å¤§å®¶ã€‚

---

è¿™ç¯‡æ–‡ç« ï¼Œæ˜¯æå‡è‡ªæˆ‘ä¿®å…»ç¯‡çš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚
æ–‡ç« çš„å†…å®¹ä¸»è¦æ¥æºäº `ã€Šç¨‹åºå‘˜çš„è‡ªæˆ‘ä¿®å…»----â€œé“¾æ¥ã€è£…è½½ä¸åº“â€ã€‹` ä»¥åŠ åšä¸»è‡ªå·±çš„è°ƒè¯•ä¸æ€»ç»“ã€‚

æ„Ÿè°¢ï¼ï¼ï¼
ï¼ˆç”»å›¾çœŸçš„è€—æ—¶é—´ï¼‰



